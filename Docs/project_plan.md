# í”„ë¡œì íŠ¸ ê³„íšì„œ: Voice Diary

## 1. í”„ë¡œì íŠ¸ êµ¬ì¡°

```
voice-diary/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx           # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ page.tsx             # ë©”ì¸ (ì¼ê°„ ë·°)
â”‚   â”œâ”€â”€ calendar/
â”‚   â”‚   â””â”€â”€ page.tsx         # ì›”ê°„ ìº˜ë¦°ë” ë·°
â”‚   â”œâ”€â”€ stats/
â”‚   â”‚   â””â”€â”€ page.tsx         # í†µê³„ ë·°
â”‚   â”œâ”€â”€ diary/
â”‚   â”‚   â””â”€â”€ [date]/
â”‚   â”‚       â””â”€â”€ page.tsx     # íŠ¹ì • ë‚ ì§œ ì¼ê¸°
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ analyze/
â”‚           â””â”€â”€ route.ts     # AI ë¶„ì„ API
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                  # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ diary/               # ì¼ê¸° ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ DiaryCard.tsx
â”‚   â”‚   â”œâ”€â”€ EmotionBadge.tsx
â”‚   â”‚   â”œâ”€â”€ KeywordTag.tsx
â”‚   â”‚   â””â”€â”€ EmptyState.tsx
â”‚   â”œâ”€â”€ recorder/            # ë…¹ìŒ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ RecordButton.tsx
â”‚   â”‚   â”œâ”€â”€ RecordModal.tsx
â”‚   â”‚   â””â”€â”€ Transcript.tsx
â”‚   â”œâ”€â”€ calendar/            # ìº˜ë¦°ë” ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ CalendarGrid.tsx
â”‚   â”‚   â”œâ”€â”€ CalendarDay.tsx
â”‚   â”‚   â””â”€â”€ MonthNav.tsx
â”‚   â”œâ”€â”€ stats/               # í†µê³„ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ EmotionChart.tsx
â”‚   â”‚   â”œâ”€â”€ KeywordCloud.tsx
â”‚   â”‚   â””â”€â”€ StatCard.tsx
â”‚   â””â”€â”€ layout/              # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ Header.tsx
â”‚       â”œâ”€â”€ BottomNav.tsx
â”‚       â””â”€â”€ Container.tsx
â”‚
â”œâ”€â”€ hooks/                   # ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ useSpeechRecognition.ts
â”‚   â”œâ”€â”€ useLocalStorage.ts
â”‚   â”œâ”€â”€ useDiary.ts
â”‚   â””â”€â”€ useAnalyze.ts
â”‚
â”œâ”€â”€ lib/                     # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ storage.ts           # ë¡œì»¬ ì €ì¥ì†Œ ê´€ë¦¬
â”‚   â”œâ”€â”€ emotions.ts          # ê°ì • ì´ëª¨ì§€ ìƒìˆ˜
â”‚   â”œâ”€â”€ date.ts              # ë‚ ì§œ ìœ í‹¸
â”‚   â””â”€â”€ api.ts               # API í´ë¼ì´ì–¸íŠ¸
â”‚
â”œâ”€â”€ types/                   # TypeScript íƒ€ì…
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ manifest.json        # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ sw.js               # Service Worker
â”‚   â””â”€â”€ icons/              # ì•± ì•„ì´ì½˜
â”‚
â””â”€â”€ styles/
    â””â”€â”€ globals.css          # ì „ì—­ ìŠ¤íƒ€ì¼
```

---

## 2. í•µì‹¬ íƒ€ì… ì •ì˜

```typescript
// types/index.ts

// ê°ì • íƒ€ì…
type Emotion =
  | 'happy'     // ğŸ˜Š ê¸°ì¨
  | 'sad'       // ğŸ˜¢ ìŠ¬í””
  | 'angry'     // ğŸ˜  ë¶„ë…¸
  | 'anxious'   // ğŸ˜° ë¶ˆì•ˆ
  | 'peaceful'  // ğŸ˜Œ í‰ì˜¨
  | 'tired'     // ğŸ˜´ í”¼ê³¤
  | 'thinking'  // ğŸ¤” ê³ ë¯¼
  | 'confident' // ğŸ˜ ìì‹ ê°
  | 'love'      // ğŸ¥° ì‚¬ë‘
  | 'neutral';  // ğŸ˜ ë¬´ë¤ë¤

// ì¼ê¸° ì—”íŠ¸ë¦¬
interface DiaryEntry {
  id: string;
  date: string;           // YYYY-MM-DD
  createdAt: string;      // ISO timestamp

  transcript: string;     // ìŒì„± â†’ í…ìŠ¤íŠ¸

  keywords: string[];     // AI ì¶”ì¶œ í‚¤ì›Œë“œ
  emotion: Emotion;       // AI ë¶„ì„ ê°ì •
  summary?: string;       // AI í•œì¤„ ìš”ì•½

  editedAt?: string;
}

// AI ë¶„ì„ ì‘ë‹µ
interface AnalysisResult {
  keywords: string[];
  emotion: Emotion;
  summary: string;
}

// ë…¹ìŒ ìƒíƒœ
type RecordingStatus =
  | 'idle'        // ëŒ€ê¸°
  | 'recording'   // ë…¹ìŒ ì¤‘
  | 'processing'  // AI ë¶„ì„ ì¤‘
  | 'done'        // ì™„ë£Œ
  | 'error';      // ì—ëŸ¬
```

---

## 3. API ì„¤ê³„

### 3.1 AI ë¶„ì„ API

**Endpoint**: `POST /api/analyze`

**Request**:
```json
{
  "transcript": "ì˜¤ëŠ˜ íšŒì‚¬ì—ì„œ í”„ë¡œì íŠ¸ ë°œí‘œê°€ ìˆì—ˆëŠ”ë° ìƒê°ë³´ë‹¤ ì˜ ëë‹¤. íŒ€ì›ë“¤ ë°˜ì‘ë„ ì¢‹ì•˜ê³  ë¶€ì¥ë‹˜ë„ ì¹­ì°¬í•´ì£¼ì…¨ë‹¤. í‡´ê·¼í•˜ê³  ë§›ìˆëŠ” ê±° ë¨¹ìœ¼ëŸ¬ ê°€ì•¼ì§€."
}
```

**Response**:
```json
{
  "keywords": ["í”„ë¡œì íŠ¸ ë°œí‘œ", "íŒ€ì›", "ì¹­ì°¬", "í‡´ê·¼"],
  "emotion": "confident",
  "summary": "í”„ë¡œì íŠ¸ ë°œí‘œ ì„±ê³µìœ¼ë¡œ ë¿Œë“¯í•œ í•˜ë£¨"
}
```

### 3.2 Claude í”„ë¡¬í”„íŠ¸

```
ë‹¹ì‹ ì€ ì¼ê¸° ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ì¼ê¸°ë¥¼ ì½ê³  ë‹¤ìŒì„ JSON í˜•ì‹ìœ¼ë¡œ ì¶”ì¶œí•´ì£¼ì„¸ìš”:

1. keywords: í•µì‹¬ í‚¤ì›Œë“œ 3-5ê°œ (ëª…ì‚¬ ìœ„ì£¼)
2. emotion: ëŒ€í‘œ ê°ì • 1ê°œ (ì•„ë˜ ì¤‘ ì„ íƒ)
   - happy, sad, angry, anxious, peaceful, tired, thinking, confident, love, neutral
3. summary: í•œ ì¤„ ìš”ì•½ (15ì ì´ë‚´)

ì¼ê¸° ë‚´ìš©:
{transcript}

JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´ì£¼ì„¸ìš”.
```

---

## 4. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

### 4.1 RecordModal (ë…¹ìŒ ëª¨ë‹¬)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              âœ•                  â”‚  â† ë‹«ê¸° ë²„íŠ¼
â”‚                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                     â”‚     â”‚
â”‚    â”‚   ì‹¤ì‹œê°„ í…ìŠ¤íŠ¸     â”‚     â”‚  â† ìŒì„± â†’ í…ìŠ¤íŠ¸
â”‚    â”‚   í‘œì‹œ ì˜ì—­         â”‚     â”‚
â”‚    â”‚                     â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                 â”‚
â”‚           â—‰ 0:23               â”‚  â† ë…¹ìŒ ì‹œê°„
â”‚                                 â”‚
â”‚         [ ğŸ¤ ì™„ë£Œ ]             â”‚  â† ë…¹ìŒ ì¤‘: ë¹¨ê°„ìƒ‰
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìƒíƒœ íë¦„**:
```
idle â†’ (ë²„íŠ¼ í´ë¦­) â†’ recording â†’ (ì™„ë£Œ í´ë¦­) â†’ processing â†’ done
                                     â†“
                                   error (ì‹¤íŒ¨ ì‹œ)
```

### 4.2 DiaryCard (ì¼ê¸° ì¹´ë“œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚         ğŸ˜                      â”‚  â† ê°ì • ì´ëª¨ì§€ (í¬ê²Œ)
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ë°œí‘œ â”‚ â”‚íŒ€ì› â”‚ â”‚ì¹­ì°¬ â”‚       â”‚  â† í‚¤ì›Œë“œ íƒœê·¸
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                 â”‚
â”‚  ì˜¤ëŠ˜ íšŒì‚¬ì—ì„œ í”„ë¡œì íŠ¸ ë°œí‘œê°€  â”‚
â”‚  ìˆì—ˆëŠ”ë° ìƒê°ë³´ë‹¤ ì˜ ëë‹¤...   â”‚  â† ì¼ê¸° í…ìŠ¤íŠ¸
â”‚                    [ë”ë³´ê¸°]     â”‚
â”‚                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  2024.01.15 ì˜¤í›„ 9:23          â”‚  â† ì‘ì„± ì‹œê°„
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 CalendarGrid (ì›”ê°„ ìº˜ë¦°ë”)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    <    2024ë…„ 1ì›”    >         â”‚  â† ì›” ë„¤ë¹„ê²Œì´ì…˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì¼  ì›”  í™”  ìˆ˜  ëª©  ê¸ˆ  í†      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      1   2   3   4   5   6     â”‚
â”‚          ğŸ˜Š      ğŸ˜¢            â”‚  â† ê°ì • ì´ëª¨ì§€
â”‚  7   8   9  10  11  12  13    â”‚
â”‚  ğŸ˜              ğŸ˜Œ            â”‚
â”‚ 14  15  16  17  18  19  20    â”‚
â”‚     â¬¤                          â”‚  â† ì˜¤ëŠ˜ í‘œì‹œ
â”‚ 21  22  23  24  25  26  27    â”‚
â”‚                                 â”‚
â”‚ 28  29  30  31                 â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ë¡œì»¬ ì €ì¥ì†Œ ì„¤ê³„

### 5.1 ì €ì¥ì†Œ êµ¬ì¡° (localStorage)

```typescript
// í‚¤: 'voice-diary-entries'
// ê°’: DiaryEntry[]

// í‚¤: 'voice-diary-settings'
// ê°’: { reminderTime?: string, ... }
```

### 5.2 Storage í•¨ìˆ˜

```typescript
// lib/storage.ts

// ëª¨ë“  ì¼ê¸° ì¡°íšŒ
function getAllEntries(): DiaryEntry[]

// ë‚ ì§œë³„ ì¼ê¸° ì¡°íšŒ
function getEntryByDate(date: string): DiaryEntry | null

// ì›”ë³„ ì¼ê¸° ì¡°íšŒ
function getEntriesByMonth(year: number, month: number): DiaryEntry[]

// ì¼ê¸° ì €ì¥
function saveEntry(entry: DiaryEntry): void

// ì¼ê¸° ìˆ˜ì •
function updateEntry(id: string, updates: Partial<DiaryEntry>): void

// ì¼ê¸° ì‚­ì œ
function deleteEntry(id: string): void
```

---

## 6. í™”ë©´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  [ë©”ì¸ í™”ë©´]                                                â”‚
â”‚      â”‚                                                      â”‚
â”‚      â”œâ”€â”€ ë…¹ìŒ ë²„íŠ¼ í´ë¦­ â”€â”€â†’ [ë…¹ìŒ ëª¨ë‹¬]                     â”‚
â”‚      â”‚                          â”‚                           â”‚
â”‚      â”‚                          â”œâ”€â”€ ì™„ë£Œ â”€â”€â†’ AI ë¶„ì„        â”‚
â”‚      â”‚                          â”‚              â”‚            â”‚
â”‚      â”‚                          â”‚              â†“            â”‚
â”‚      â”‚                          â””â”€â”€ ì €ì¥ â”€â”€â†’ [ë©”ì¸ í™”ë©´]    â”‚
â”‚      â”‚                                                      â”‚
â”‚      â”œâ”€â”€ ë‚ ì§œ ì´ë™ â”€â”€â†’ [íŠ¹ì • ë‚ ì§œ ë·°]                       â”‚
â”‚      â”‚                                                      â”‚
â”‚      â””â”€â”€ í•˜ë‹¨ íƒ­                                            â”‚
â”‚            â”‚                                                â”‚
â”‚            â”œâ”€â”€ ì¼ê°„ â”€â”€â†’ [ë©”ì¸ í™”ë©´]                         â”‚
â”‚            â”œâ”€â”€ ì›”ê°„ â”€â”€â†’ [ìº˜ë¦°ë” ë·°] â”€â”€â†’ ë‚ ì§œ í´ë¦­ â”€â”€â†’ ì¼ê°„  â”‚
â”‚            â””â”€â”€ í†µê³„ â”€â”€â†’ [í†µê³„ ë·°]                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|----------|------|------|------|
| Framework | Next.js | 14.x | App Router, API Routes |
| Language | TypeScript | 5.x | íƒ€ì… ì•ˆì •ì„± |
| Styling | Tailwind CSS | 3.x | ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ ìŠ¤íƒ€ì¼ë§ |
| State | React hooks | - | ë¡œì»¬ ìƒíƒœ ê´€ë¦¬ |
| STT | Web Speech API | - | ìŒì„± â†’ í…ìŠ¤íŠ¸ |
| AI | Claude API | 3.5 | í‚¤ì›Œë“œ/ê°ì • ë¶„ì„ |
| Charts | Recharts | 2.x | í†µê³„ ì‹œê°í™” |
| Icons | Lucide React | - | ì•„ì´ì½˜ |
| PWA | next-pwa | 5.x | PWA ì„¤ì • |

---

## 8. ê°œë°œ ìˆœì„œ (ê¶Œì¥)

### Week 1: ê¸°ë°˜ ì‘ì—…
1. í”„ë¡œì íŠ¸ ì…‹ì—… (Next.js + Tailwind + TypeScript)
2. í´ë” êµ¬ì¡° ìƒì„±
3. ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (Header, BottomNav)
4. PWA ê¸°ë³¸ ì„¤ì •

### Week 2: í•µì‹¬ ê¸°ëŠ¥
5. ìŒì„± ë…¹ìŒ í›… (useSpeechRecognition)
6. ë…¹ìŒ ëª¨ë‹¬ UI
7. AI ë¶„ì„ API (/api/analyze)
8. ë¡œì»¬ ì €ì¥ì†Œ êµ¬í˜„

### Week 3: UI ì™„ì„±
9. ì¼ê°„ ë·° (DiaryCard, EmptyState)
10. ë‚ ì§œ ë„¤ë¹„ê²Œì´ì…˜
11. ì „ì²´ í”Œë¡œìš° ì—°ê²°
12. ì—ëŸ¬ í•¸ë“¤ë§

### Week 4: ì‹œê°í™” (Phase 2)
13. ì›”ê°„ ìº˜ë¦°ë” ë·°
14. ê°ì • ê·¸ë˜í”„
15. í‚¤ì›Œë“œ í´ë¼ìš°ë“œ
16. í…ŒìŠ¤íŠ¸ & QA

---

## 9. í™˜ê²½ ë³€ìˆ˜

```env
# .env.local

# Claude API
ANTHROPIC_API_KEY=sk-ant-xxxxx

# ì•± ì„¤ì •
NEXT_PUBLIC_APP_NAME=Voice Diary
NEXT_PUBLIC_APP_URL=https://voice-diary.vercel.app
```

---

## 10. ë°°í¬ ê³„íš

### 10.1 Vercel ë°°í¬
1. GitHub ë ˆí¬ì§€í† ë¦¬ ì—°ê²°
2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
3. ìë™ ë°°í¬ (main ë¸Œëœì¹˜)

### 10.2 ë„ë©”ì¸
- ì´ˆê¸°: `voice-diary.vercel.app`
- ì¶”í›„: ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì—°ê²°

### 10.3 ëª¨ë‹ˆí„°ë§
- Vercel Analytics (ë¬´ë£Œ)
- ì—ëŸ¬ íŠ¸ë˜í‚¹: Sentry (ì„ íƒ)
